{"version":3,"file":"static/js/134.71f218bf.chunk.js","mappings":"sMAqEA,UAhEe,WACX,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAIF,EAAaG,IAAI,KACrBC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACI,OAANJ,GACJK,EAAAA,GAAsBL,GACjBM,MAAK,SAACC,GAAD,OAAcA,EAASC,MAAvB,IACLF,MAAK,SAACG,GAAD,OAAUA,EAAKC,OAAf,IACLJ,MAAK,SAACK,GACHf,EAAUe,EACb,IACAC,OAAM,SAACC,GAAD,OACHC,QAAQC,IAAIF,EADT,GAGd,GAAC,CAACb,IA0BH,OACI,iCACI,kBAAMgB,SAtBG,SAACC,GACdA,EAAEC,iBAEFb,EAAAA,GAAsBZ,GACba,MAAK,SAACC,GAAD,OAAcA,EAASC,MAAvB,IACLF,MAAK,SAACG,GAAD,OAAUA,EAAKC,OAAf,IACLJ,MAAK,SAACK,GACHf,EAAUe,EACb,IACAC,OAAM,SAACC,GAAD,OACHC,QAAQC,IAAIF,EADT,IAGXd,EAAgB,CAAEC,EAAGP,IACrBC,EAAS,IAEC,KAAVD,GAAgBM,EAAgB,CAAC,EACxC,EAMO,WACI,kBACIoB,KAAK,OACLC,MAAO3B,EACP4B,SA9BK,SAACJ,GAClBvB,EAASuB,EAAEK,OAAOF,MACrB,KA8BW,mBAAQD,KAAK,SAAb,uBAES,KAAXxB,IACE,wBACKA,EAAO4B,KACJ,SAAAC,GAAK,OAAI,yBAAmB,SAAC,KAAD,CAAMC,GAAE,UAAKD,EAAME,IAAMC,MAAO,CAACC,KAAM1B,GAAvC,SAAmDsB,EAAMK,SAAnEL,EAAME,GAAnB,QAK5B,C,uJCnED,IAAMI,EAAS,gCACTC,EAAM,mCAECC,EAAkB,WAC3B,OAAOC,MAAM,GAAD,OAAIH,EAAJ,sCAA0CC,GACzD,EAEYG,EAAgB,SAACR,GAC1B,OAAOO,MAAM,GAAD,OAAIH,EAAJ,iBAAqBJ,EAArB,oBAAmCK,GAClD,EAEYI,EAAoB,SAACT,GAC9B,OAAOO,MAAM,GAAD,OAAIH,EAAJ,iBAAqBJ,EAArB,4BAA2CK,GAC1D,EAEYK,EAAuB,SAACV,GACjC,OAAOO,MAAM,GAAD,OAAIH,EAAJ,iBAAqBJ,EAArB,4BAA2CK,GAC1D,EAEYM,EAAoB,SAACC,GAC9B,OAAOL,MAAM,GAAD,OAAIH,EAAJ,gCAAoCC,EAApC,kBAAiDO,GAChE,C","sources":["pages/Movies.jsx","serviсes/api.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { Link, useLocation, useSearchParams } from \"react-router-dom\";\n\nimport * as API from \"../serviсes/api\";\n\nconst Movies = () => { \n    const [query, setQuery] = useState('');\n    const [movies, setMovies] = useState('');\n    const [searchParams, setSearchParams] = useSearchParams();\n    const q = searchParams.get('q');\n    const location = useLocation();\n    \n    useEffect(() => { \n        if (q === null) { return}\n        API.findMovieBySearch(q)\n            .then((response) => response.json())\n            .then((resp) => resp.results)\n            .then((res) => {\n                setMovies(res)\n            })\n            .catch((error)=>\n                console.log(error)\n        )\n    },[q])\n\n    const handleChange = (e) => { \n        setQuery(e.target.value)\n    }\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n\n        API.findMovieBySearch(query)\n                .then((response) => response.json())\n                .then((resp) => resp.results)\n                .then((res) => {\n                    setMovies(res)\n                })\n                .catch((error) =>\n                    console.log(error)\n                )\n            setSearchParams({ q: query })\n            setQuery('');\n        \n        if (query === '') { setSearchParams({})}\n    }\n\n\n\n    return (\n        <>\n            <form onSubmit={onSubmit}>\n                <input\n                    type=\"text\"\n                    value={query}\n                    onChange={handleChange}\n                />\n                <button type=\"submit\">Search</button>\n            </form>\n            {(movies !== '') && (\n                <ul>\n                    {movies.map(\n                        movie => <li key={movie.id}><Link to={`${movie.id}`} state={{from: location}}>{movie.title}</Link></li>\n                    )}\n                </ul>)}\n        </>\n    )\n}\n\nexport default Movies","const BASE_URL='https://api.themoviedb.org/3/'\nconst KEY = '81b825b8414e187e449b2c712f701899';\n\nexport const findPopularMovies=() => { \n    return fetch(`${BASE_URL}trending/movie/day?api_key=${KEY}`)\n}\n\nexport const findMovieById = (id) => { \n    return fetch(`${BASE_URL}movie/${id}?api_key=${KEY}`)\n}\n\nexport const findCastMovieById = (id) => { \n    return fetch(`${BASE_URL}movie/${id}/credits?api_key=${KEY}`)\n}\n\nexport const findReviewsMovieById = (id) => { \n    return fetch(`${BASE_URL}movie/${id}/reviews?api_key=${KEY}`)\n}\n\nexport const findMovieBySearch = (text) => { \n    return fetch(`${BASE_URL}search/movie?api_key=${KEY}&query=${text}`)\n}"],"names":["useState","query","setQuery","movies","setMovies","useSearchParams","searchParams","setSearchParams","q","get","location","useLocation","useEffect","API","then","response","json","resp","results","res","catch","error","console","log","onSubmit","e","preventDefault","type","value","onChange","target","map","movie","to","id","state","from","title","BASE_URL","KEY","findPopularMovies","fetch","findMovieById","findCastMovieById","findReviewsMovieById","findMovieBySearch","text"],"sourceRoot":""}